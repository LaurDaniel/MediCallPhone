<ion-header [translucent]="true" class="header-background">
  <ion-toolbar >
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title slot="start" style="display:inline-block;position: relative;top: 5px;left: 5px;">
      <ion-label >Conferinta Online</ion-label>
   </ion-title>
   <ion-thumbnail slot="end" style="display:inline-block;margin-right:5%">
    <img src="assets/images/logo.png" style="transform:scale(0.7);">
  </ion-thumbnail>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngIf="url_conferinta" >
              <ion-card-content class="resp-container">
                  <iframe class="webPage" allow="microphone *; camera; fullscreen; display-capture" [src]="url_conferinta | safe" ></iframe>
                  <!-- <div id="jitsi-iframe"></div> -->
              </ion-card-content>
            </ion-card>
             <ion-card *ngIf="url_conferinta" >
              <ion-card-content>
                <ngx-dropzone [multiple]="false" [maxFileSize]="10000000" (change)="onSelect($event)">
                  <ngx-dropzone-label>Faceti click sau trageti fisierul in interiorul acestei casete pentru a putea incarca documentele.</ngx-dropzone-label>
                  <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                    <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                  </ngx-dropzone-preview>
                </ngx-dropzone>
                 <!-- <form  [formGroup]="dropzone" (ngSubmit)="onSubmitDropzone()">
                      <div class="dz-message" data-dz-message><span>Faceti click sau trageti fisierul in interiorul acestei casete pentru a putea incarca documentele</span></div>
                  </form> -->
                </ion-card-content>
              </ion-card>
              <ion-card *ngIf="url_conferinta" >
                <ion-card-header>
                  <ion-card-title>Fisiere incarcate de doctor</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                
                  <ul class="list-group" id="file_listing" *ngFor="let fisier of fisiere;">
                      <li class="list-group-item"><a (click)="downloadFile(fisier.nume_fisier)" >{{fisier.nume_fisier}}</a></li> 
                  </ul>
                  <!-- <button class="btn btn-primary mt-2 mb-3 w-100" id="refresh_files"><i class="fas fa-sync-alt mr-2"></i>Reimprospateaza fisiere</button>                                                                        -->
                </ion-card-content>
              </ion-card>
              <ion-card *ngIf="!url_conferinta">
                <ion-card-header>
                  <ion-card-title>Momentan nu ai nicio camera de consultatie deschisa</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                          <p class="card-text">Daca astepti sa intri in conferinta, camera se va deschide imediat ce doctorul va porni consultatia, indiferent daca consultatia va avea loc pentru unul din conturile asociate.
                          </p>
                          <!-- <a href="{{route('consultatie.online')}}" class="btn btn-primary waves-effect waves-light">Reincearca conectarea la consultatia online</a> -->
                        </ion-card-content>
                      </ion-card>
</ion-content>


